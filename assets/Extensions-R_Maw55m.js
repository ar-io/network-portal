import{e as o,r as m,j as e,H as A,aB as G,g as F}from"./index-DT_KQEYq.js";import{S as $}from"./search-CFp1EMlw.js";import{C as E}from"./chevron-down-CWFu1ckq.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="73c3cb6a-1563-45a7-2307-cb493d52fb80",t._sentryDebugIdIdentifier="sentry-dbid-73c3cb6a-1563-45a7-2307-cb493d52fb80")}catch{}})();/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=o("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=o("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=o("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=o("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=o("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=o("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=o("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=o("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function B(){const t=window.location.hostname;if(t==="localhost"||t==="127.0.0.1"||t.includes("network-portal.app")||t.includes(".web.app")||t.includes(".firebaseapp.com"))return"https://extensions_gateways.ar.io/";const a=t.split(".");return a.length>=2?(a[0]="extensions_gateways",`${window.location.protocol}//${a.join(".")}/`):`${window.location.protocol}//extensions_gateways.${t}/`}async function P(){const t=B();try{const a=await fetch(t,{headers:{Accept:"application/json"}});if(!a.ok)throw new Error(`Failed to fetch extensions data: ${a.status}`);return await a.json()}catch(a){console.error("Failed to fetch extensions from ArNS:",a),console.log("Falling back to local extensions.json");const n=await fetch("/data/extensions.json");if(!n.ok)throw new Error("Failed to fetch fallback extensions data");return await n.json()}}function j(t){if(t.startsWith("http://")||t.startsWith("https://"))return t;const a=window.location.hostname;return(a.includes(".ar.io")||a.includes(".arweave.net")||a.includes(".permagate.io"))&&!a.includes("localhost")?`/${t}`:`https://arweave.net/${t}`}function R({extension:t,onClick:a,tagStyles:n,tagLabels:x,categoryLabels:c}){const[h,d]=m.useState(!1),g=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return e.jsxs("div",{className:"group relative flex cursor-pointer flex-col rounded-xl border border-grey-600 bg-containerL3 p-6 transition-all hover:border-grey-400",onClick:a,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),a())},role:"button",tabIndex:0,children:[e.jsxs("div",{className:"mb-4 flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"group-hover:text-gradient mb-2 text-base font-medium text-high sm:text-lg",children:t.name}),e.jsx("p",{className:"line-clamp-2 text-sm text-mid",children:t.description})]}),t.logo&&!h&&e.jsx("div",{className:"size-16 shrink-0 rounded-lg bg-containerL0 p-2 shadow-sm sm:size-20",children:e.jsx("img",{src:j(t.logo),alt:t.name,className:"size-full object-contain",onError:()=>d(!0)})})]}),e.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:t.tags.map(r=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ${n[r]}`,children:x[r]},r))}),e.jsxs("div",{className:"mt-auto flex flex-wrap items-center justify-between gap-2 text-xs text-low",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"size-3"}),e.jsx("span",{children:c[t.category]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"size-3"}),e.jsx("span",{className:"truncate",children:t.author})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"whitespace-nowrap",children:["v",t.version]}),e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx(z,{className:"size-3"}),e.jsx("span",{children:g(t.lastUpdated)})]})]})]})]})}const Y={storage:"Storage",routing:"Routing",monitoring:"Monitoring",security:"Security",performance:"Performance",indexing:"Indexing",caching:"Caching",moderation:"Moderation",analytics:"Analytics","developer-tools":"Developer Tools",compute:"Compute"},K={featured:"Featured","grant-funded":"Grant Funded",community:"Community",official:"Official",beta:"Beta",stable:"Stable"},W={featured:"bg-gradient-to-r from-gradient-primary-start to-gradient-primary-end text-grey-1000 font-semibold","grant-funded":"bg-containerL3 text-streak-up border border-streak-up/20",community:"bg-containerL3 text-high border border-grey-400",official:"bg-gradient-to-r from-gradient-primary-start/20 to-gradient-primary-end/20 text-high border border-gradient-primary-start/40",beta:"bg-containerL3 text-mid border border-grey-500 italic",stable:"bg-containerL3 text-high border border-grey-400"};function Q({extension:t,onClose:a}){const[n,x]=m.useState(!1),[c,h]=m.useState({}),d=r=>new Date(r).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),g=t.url.includes("github.com");return e.jsxs("div",{className:"flex h-full max-w-full flex-col gap-6",children:[e.jsx("div",{className:"shrink-0",children:e.jsx(A,{})}),e.jsx("div",{className:"flex shrink-0 items-center gap-4",children:e.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-sm text-mid transition-colors hover:text-high",children:[e.jsx(H,{className:"size-4"}),"Back to Extensions"]})}),e.jsxs("div",{className:"mb-6 flex-1 overflow-y-auto rounded-xl border border-grey-500 bg-containerL0 p-4 scrollbar sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[t.logo&&!n&&e.jsx("div",{className:"size-20 shrink-0 self-start rounded-lg bg-containerL3 p-2 shadow-md sm:size-24",children:e.jsx("img",{src:j(t.logo),alt:t.name,className:"size-full object-contain",onError:()=>x(!0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"mb-2 text-xl font-medium text-high sm:text-2xl",children:t.name}),e.jsx("p",{className:"text-base text-mid sm:text-lg",children:t.description})]})]}),e.jsxs("button",{onClick:()=>window.open(t.url,"_blank"),className:"group relative mt-4 flex items-center gap-2 self-start rounded-lg px-4 py-2 text-sm transition-all sm:mt-0",children:[e.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-gradient-primary-start to-gradient-primary-end opacity-0 transition-opacity group-hover:opacity-100"}),e.jsx("div",{className:"relative flex items-center gap-2 whitespace-nowrap text-mid group-hover:text-grey-1000",children:g?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"size-4"}),"View on GitHub"]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"size-4"}),"View Extension"]})})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(r=>e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1.5 text-sm font-medium ${W[r]}`,children:K[r]},r))})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-4 text-lg font-medium text-high",children:"About this Extension"}),e.jsx("p",{className:"text-sm leading-relaxed text-mid",children:t.longDescription})]}),t.documentation&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-4 text-lg font-medium text-high",children:"Documentation"}),e.jsxs("a",{href:t.documentation,target:"_blank",rel:"noopener noreferrer",className:"text-gradient inline-flex items-center gap-2 text-sm hover:opacity-80",children:[e.jsx(V,{className:"size-4"}),"Read the documentation",e.jsx(b,{className:"size-3"})]})]}),e.jsxs("div",{className:"rounded-lg border border-grey-600 bg-containerL3 p-6",children:[e.jsx("h3",{className:"mb-4 font-medium text-high",children:"Installation"}),e.jsxs("ol",{className:"list-inside list-decimal space-y-2 text-sm text-mid",children:[e.jsx("li",{children:"Visit the extension repository using the button above"}),e.jsx("li",{children:"Follow the installation instructions in the README"}),e.jsx("li",{children:"Configure the extension according to your gateway setup"}),e.jsx("li",{children:"Restart your gateway to apply changes"})]})]}),t.screenshots&&t.screenshots.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"mb-4 font-medium text-high",children:"Screenshots"}),e.jsx("div",{className:"space-y-4",children:t.screenshots.map((r,l)=>e.jsx("div",{className:"overflow-hidden rounded-lg border border-grey-600",children:c[l]?e.jsx("div",{className:"flex h-48 items-center justify-center bg-containerL3 text-low",children:e.jsx("span",{className:"text-sm",children:"Screenshot unavailable"})}):e.jsx("img",{src:j(r),alt:`${t.name} screenshot ${l+1}`,className:"w-full",onError:()=>h(u=>({...u,[l]:!0}))})},l))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"rounded-lg border border-grey-600 bg-containerL3 p-6",children:[e.jsx("h3",{className:"mb-4 font-medium text-high",children:"Extension Details"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs text-low",children:"Category"}),e.jsxs("dd",{className:"mt-1 flex items-center gap-1 text-sm text-mid",children:[e.jsx(T,{className:"size-3"}),Y[t.category]]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs text-low",children:"Author"}),e.jsxs("dd",{className:"mt-1 flex items-center gap-1 text-sm text-mid",children:[e.jsx(M,{className:"size-3"}),t.authorUrl?e.jsx("a",{href:t.authorUrl,target:"_blank",rel:"noopener noreferrer",className:"text-gradient hover:opacity-80",children:t.author}):t.author]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs text-low",children:"Version"}),e.jsxs("dd",{className:"mt-1 flex items-center gap-1 text-sm text-mid",children:[e.jsx(O,{className:"size-3"}),"v",t.version]})]}),t.imageUri&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs text-low",children:"Image URI"}),e.jsx("dd",{className:"mt-1 font-mono text-sm text-mid",children:t.imageUri})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs text-low",children:"Last Updated"}),e.jsxs("dd",{className:"mt-1 flex items-center gap-1 text-sm text-mid",children:[e.jsx(z,{className:"size-3"}),d(t.lastUpdated)]})]}),t.minGatewayVersion&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs text-low",children:"Minimum Gateway Version"}),e.jsx("dd",{className:"mt-1 text-sm text-mid",children:t.minGatewayVersion})]})]})]})})]})]})]})}const S={storage:"Storage",routing:"Routing",monitoring:"Monitoring",security:"Security",performance:"Performance",indexing:"Indexing",caching:"Caching",moderation:"Moderation",analytics:"Analytics","developer-tools":"Developer Tools",compute:"Compute"},C={featured:"Featured","grant-funded":"Grant Funded",community:"Community",official:"Official",beta:"Beta",stable:"Stable"},Z={featured:"bg-gradient-to-r from-gradient-primary-start to-gradient-primary-end text-grey-1000 font-semibold","grant-funded":"bg-containerL3 text-streak-up border border-streak-up/20",community:"bg-containerL3 text-high border border-grey-400",official:"bg-gradient-to-r from-gradient-primary-start/20 to-gradient-primary-end/20 text-high border border-gradient-primary-start/40",beta:"bg-containerL3 text-mid border border-grey-500 italic",stable:"bg-containerL3 text-high border border-grey-400"};function te(){const[t,a]=G(),[n,x]=m.useState(""),[c,h]=m.useState("all"),[d,g]=m.useState("all"),r=t.get("id"),{data:l,isLoading:u,error:D}=F({queryKey:["extensions"],queryFn:P,staleTime:5*60*1e3,gcTime:30*60*1e3,retry:2,retryDelay:s=>Math.min(1e3*2**s,3e4)}),f=(l==null?void 0:l.extensions)||[],v={},y={};f.forEach(s=>{if(s.category&&!S[s.category]){const i=s.category.trim();v[i]=i.charAt(0).toUpperCase()+i.slice(1).replace(/-/g," ")}Array.isArray(s.tags)&&s.tags.forEach(i=>{if(i&&!C[i]){const p=i.trim();y[p]=p.charAt(0).toUpperCase()+p.slice(1).replace(/-/g," ")}})});const N=f.find(s=>s.id===r),w=f.filter(s=>{const i=n===""||s.name.toLowerCase().includes(n.toLowerCase())||s.description.toLowerCase().includes(n.toLowerCase()),p=c==="all"||s.category===c,I=d==="all"||s.tags.includes(d);return i&&p&&I}),U=s=>{a({id:s})},_=()=>{a({})},k={...S,...v},L={...C,...y};return N?e.jsx(Q,{extension:N,onClose:_}):e.jsxs("div",{className:"flex max-h-full max-w-full flex-col gap-6",children:[e.jsx("div",{className:"shrink-0",children:e.jsx(A,{})}),e.jsx("div",{className:"mb-8 flex flex-1 flex-col overflow-hidden",children:e.jsxs("div",{className:"grow overflow-y-auto scrollbar",children:[e.jsxs("div",{className:"flex w-full items-center justify-between rounded-t-xl border border-grey-600 bg-containerL3 px-6 py-[0.9375rem]",children:[e.jsxs("div",{className:"grow",children:[e.jsx("div",{className:"text-sm text-high",children:"Gateway Extensions"}),e.jsx("div",{className:"mt-1 text-xs text-mid",children:"Discover and install modular tools to enhance your AR.IO gateway. Extensions are provided by third parties. Always review code and test before using in production."})]}),e.jsxs("button",{onClick:()=>window.open("https://github.com/ar-io/network-portal/issues/new?template=extension_submission.md","_blank"),className:"group flex items-center gap-2 rounded-lg px-3 py-2 text-xs text-mid transition-colors hover:text-high",children:[e.jsx("span",{children:"Submit Extension"}),e.jsx(b,{className:"size-3"})]})]}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden rounded-b-xl border-x border-b border-grey-600 bg-containerL0 p-6",children:[e.jsx("div",{className:"mb-6 flex flex-col gap-4",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"relative w-full lg:max-w-md",children:[e.jsx($,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-low"}),e.jsx("input",{type:"text",placeholder:"Search extensions...",value:n,onChange:s=>x(s.target.value),className:"w-full rounded-lg border border-grey-600 bg-containerL3 py-2 pl-10 pr-4 text-sm text-high placeholder:text-low focus:border-grey-400 focus:outline-none"})]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:c,onChange:s=>h(s.target.value),className:"w-full appearance-none rounded-lg border border-grey-600 bg-containerL3 py-2 pl-4 pr-10 text-sm text-high focus:border-grey-400 focus:outline-none sm:w-auto",children:[e.jsx("option",{value:"all",children:"All Categories"}),Object.entries(k).map(([s,i])=>e.jsx("option",{value:s,children:i},s))]}),e.jsx(E,{className:"pointer-events-none absolute right-3 top-1/2 size-4 -translate-y-1/2 text-mid"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:d,onChange:s=>g(s.target.value),className:"w-full appearance-none rounded-lg border border-grey-600 bg-containerL3 py-2 pl-4 pr-10 text-sm text-high focus:border-grey-400 focus:outline-none sm:w-auto",children:[e.jsx("option",{value:"all",children:"All Tags"}),Object.entries(L).map(([s,i])=>e.jsx("option",{value:s,children:i},s))]}),e.jsx(E,{className:"pointer-events-none absolute right-3 top-1/2 size-4 -translate-y-1/2 text-mid"})]})]})]})}),u?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx("div",{className:"text-mid",children:"Loading extensions..."})}):D?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg text-mid",children:"Failed to load extensions"}),e.jsx("div",{className:"mt-2 text-sm text-low",children:"Unable to load extensions. Please try again later."})]})}):w.length===0?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg text-mid",children:"No extensions found"}),e.jsx("div",{className:"mt-2 text-sm text-low",children:"Try adjusting your search or filters"})]})}):e.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3",children:w.map(s=>e.jsx(R,{extension:s,onClick:()=>U(s.id),tagStyles:{...Z,...Object.fromEntries(Object.keys(y).map(i=>[i,"bg-containerL3 text-mid border border-grey-500"]))},tagLabels:L,categoryLabels:k},s.id))})]})]})})]})}export{te as default};
//# sourceMappingURL=Extensions-R_Maw55m.js.map
