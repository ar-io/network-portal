import{r as u,j as e}from"./index-DQHvdTxE.js";import{a as h,b as D,f as p,S as R,d as E,e as T,g as M,h as _}from"./TableSkeletonRow-zrttk92L.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[n]="7f88b37a-7ac5-4375-1c24-bf2ee1083a9d",o._sentryDebugIdIdentifier="sentry-dbid-7f88b37a-7ac5-4375-1c24-bf2ee1083a9d")}catch{}})();const I=({columns:o,data:n,defaultSortingState:f,isLoading:c,isError:m=!1,noDataFoundText:w="No data found.",errorText:j="Something went wrong. Please try again.",onRowClick:d,shortTable:S=!1,tableId:i,loadingRows:v=5})=>{const[C,g]=u.useState([f]),[N,x]=u.useState({}),{getTableColumnVisibility:y}=h();u.useEffect(()=>{if(!i)return;const r=()=>{const s=y(i),a={};o.forEach(b=>{b.id&&(a[b.id]=s[b.id]!==!1)}),x(a)};return r(),h.subscribe(s=>s.preferences[i],()=>r(),{equalityFn:(s,a)=>JSON.stringify(s)===JSON.stringify(a)})},[i,o,y]);const l=D({columns:o,data:n,getCoreRowModel:M(),getSortedRowModel:_(),state:{sorting:C,...i?{columnVisibility:N}:{}},onSortingChange:g,onColumnVisibilityChange:x}),V=S?"max-h-[16rem]":void 0;return e.jsxs("div",{className:`overflow-x-auto scrollbar scrollbar-thin ${V}`,children:[e.jsxs("table",{className:"w-full table-auto border-x border-b border-grey-500",children:[e.jsx("thead",{className:"sticky top-0 z-10 bg-containerL0 text-xs text-low",children:l.getHeaderGroups().map(r=>e.jsx("tr",{children:r.headers.map(t=>{const s=t.column.getIsSorted();return e.jsx("th",{className:"py-2 pl-6",children:e.jsxs("button",{className:"flex items-center gap-1 text-left",onClick:()=>{g([{id:t.column.id,desc:s?s!=="desc":t.column.columnDef.sortDescFirst??!0}])},children:[p(t.column.columnDef.header,t.getContext()),s?s==="desc"?e.jsx(R,{}):e.jsx(E,{}):e.jsx("div",{className:"w-4"})]})},t.id)})},r.id))}),e.jsx("tbody",{className:"overflow-y-auto text-sm",children:c?Array.from({length:v},(r,t)=>e.jsx(T,{columns:l.getAllColumns().filter(s=>s.getIsVisible()).length},t)):l.getRowModel().rows.map(r=>e.jsx("tr",{className:`border-t border-grey-500 text-low *:py-4 *:pl-6 transition-all duration-200 ${d?"cursor-pointer hover:bg-gradient-to-r hover:from-transparent hover:via-[#E19EE505] hover:to-transparent":""}`,onClick:d?()=>d(r.original):void 0,children:r.getVisibleCells().map(t=>e.jsx("td",{children:p(t.column.columnDef.cell,t.getContext())},t.id))},r.id))})]}),!c&&!m&&l.getRowCount()===0&&e.jsx("div",{className:"flex h-[6.25rem] items-center justify-center border-x border-b border-grey-500 text-low",children:w}),!c&&m&&e.jsx("div",{className:"flex h-[6.25rem] items-center justify-center border-x border-b border-grey-500 text-low",children:j})]})};export{I as T};
//# sourceMappingURL=TableView-BlLijkS0.js.map
