{"version":3,"file":"useVaults-Dm45KY_I.js","sources":["../../src/hooks/useVaults.ts"],"sourcesContent":["import { AoWalletVault } from '@ar.io/sdk/web';\nimport { useGlobalState } from '@src/store';\nimport { useQuery } from '@tanstack/react-query';\n\nconst useVaults = () => {\n  const arioReadSDK = useGlobalState((state) => state.arIOReadSDK);\n\n  const res = useQuery({\n    queryKey: ['vaults', arioReadSDK],\n    queryFn: async () => {\n      if (!arioReadSDK) throw new Error('arIOReadSDK is not initialized');\n\n      let cursor: string | undefined;\n      let vaults: Array<AoWalletVault> = [];\n\n      do {\n        const pageResult = await arioReadSDK.getVaults({ cursor, limit: 1000 });\n        vaults = vaults.concat(pageResult.items);\n        cursor = pageResult.nextCursor;\n      } while (cursor !== undefined);\n\n      return vaults;\n    },\n    enabled: !!arioReadSDK,\n    staleTime: Infinity,\n  });\n  return res;\n};\n\nexport default useVaults;\n"],"names":["useVaults","arioReadSDK","useGlobalState","state","useQuery","cursor","vaults","pageResult"],"mappings":"iWAIA,MAAAA,EAAA,IAAA,CACA,MAAAC,EAAAC,EAAAC,GAAAA,EAAA,WAAA,EAqBA,OAnBAC,EAAA,CAAA,SAAA,CAAA,SAAAH,CAAA,EACA,QAAA,SAAA,CAEA,GAAA,CAAAA,EAAA,MAAA,IAAA,MAAA,gCAAA,EAEA,IAAAI,EACAC,EAAA,CAAA,EAEA,EAAA,CACA,MAAAC,EAAA,MAAAN,EAAA,UAAA,CAAA,OAAAI,EAAA,MAAA,GAAA,CAAA,EACAC,EAAAA,EAAA,OAAAC,EAAA,KAAA,EACAF,EAAAE,EAAA,UAAA,OAAAF,IAAA,QAGA,OAAAC,CAAA,EACA,QAAA,CAAA,CAAAL,EACA,UAAA,GACA,CAAA,CAGA"}